<div class="page-header">
  <h1>
    Servers
    <a href="<%= url('/hosts/new') %>" class="btn btn-primary pull-right"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span>&nbsp;Add</a>
  </h1>
</div>
<div class="table-responsive">
  <table class="table table-striped table-condensed">
    <thead>
      <tr>
        <th>#</th>
        <th>Name</th>
        <th>URL</th>
        <th>Probe Interval (mins)</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <% if hosts.length > 0 %>
      <% i = hosts.offset %>
      <% hosts.each do |host| %>
      <tr>
        <td><%= i+=1 %></td>
        <td><%= host.name %></td>
        <td><%= host.url %></td>
        <td><%= host.probe_interval %></td>
        <td>
          <a href="<%= url("hosts/#{host.id}") %>" class="btn btn-sm btn-default" data-toggle="tooltip" data-placement="top" title="View"><span class="glyphicon glyphicon-file" aria-hidden="true"></span></a>
          <a href="<%= url("hosts/#{host.id}/status") %>" class="btn btn-sm btn-default" data-toggle="tooltip" data-placement="top" title="<%= host.active? ? 'Active' : 'Inactive' %>"><span class="glyphicon <%= host.active? ? 'glyphicon-arrow-up' : 'glyphicon-arrow-down' %>" aria-hidden="true"></span></a>
          <a href="<%= url("hosts/#{host.id}/edit") %>" class="btn btn-sm btn-default" data-toggle="tooltip" data-placement="top" title="Edit"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a>
          <a href="<%= url("hosts/#{host.id}/delete") %>" class="btn btn-sm btn-default" data-toggle="tooltip" data-placement="top" title="Delete"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></a>
        </td>
      </tr>
      <% end %>
      <% else %>
      <tr>
        <td colspan="5">There are no servers to list</td>
      </tr>
      <% end %>
    </tbody>
  </table>
</div>
<%= paginate hosts %>

<% content_for :js do %>
<script type="text/javascript">
$(function(){
  $('[data-toggle="tooltip"]').tooltip()
});
</script>
<% end %>
